<template>
  <v-app class="tt-app">
    <v-app-bar fixed app color="primary" dark>
      <!-- eslint-disable -->
      <svg
        tag="svg"
        to="/"
        xmlns="http://www.w3.org/2000/svg"
        style="isolation: isolate"
        viewBox="0 0 295.012 403.722"
        width="18px"
        class="ml-2 mr-3 tt-toolbar--click"
        @click="$router.push(localePath('/'))"
      >
      <!-- eslint-enable -->
        <path
          fill="#fff"
          class="pin"
          d="M293.137 147.506c0-80.34-65.291-145.631-145.631-145.631S1.875 67.166 1.875 147.506c0 84.709 87.864 198.786 126.942 245.631 9.708 11.651 27.427 11.651 37.136 0 39.32-46.845 127.184-160.922 127.184-245.631z"
        />
        <path
          fill="#2374ab"
          class="bus"
          d="M84.348 183.032c0 6.948 3.079 13.185 7.895 17.527v10.105a11.826 11.826 0 0011.842 11.842 11.826 11.826 0 0011.842-11.842v-3.947h63.158v3.947c0 6.474 5.289 11.842 11.842 11.842 6.474 0 11.842-5.289 11.842-11.842v-10.105c4.816-4.342 7.895-10.579 7.895-17.527v-78.947c0-27.632-28.263-31.579-63.158-31.579-34.895 0-63.158 3.947-63.158 31.579zm27.632 7.895a11.826 11.826 0 01-11.842-11.842 11.826 11.826 0 0111.842-11.842 11.826 11.826 0 0111.842 11.842c0 6.553-5.29 11.842-11.842 11.842zm71.052 0a11.826 11.826 0 01-11.842-11.842c0-6.553 5.29-11.842 11.842-11.842a11.826 11.826 0 0111.842 11.842 11.826 11.826 0 01-11.842 11.842zm11.842-47.368h-94.736v-39.474h94.736z"
        />
      </svg>
      <v-toolbar-title
        class="tt-toolbar--click"
        @click="$router.push(localePath('/'))"
      >
        Transit Tracker
      </v-toolbar-title>
      <v-spacer />
      <v-btn
        text
        :title="$t('regionSwitcher.title')"
        :small="$vuetify.breakpoint.smAndDown"
        @click="regionSwitcher = true"
      >
        {{ regionName }}
        <v-icon>mdi-menu-down</v-icon>
      </v-btn>
      <v-btn
        icon
        :title="$t('settings.open')"
        @click="settingsDrawer = !settingsDrawer"
      >
        <v-icon>mdi-cog</v-icon>
      </v-btn>
    </v-app-bar>
    <v-main>
      <Alerts />
      <settings-drawer v-model="settingsDrawer" />
      <nuxt />
    </v-main>
    <nav>
      <v-bottom-navigation
        v-if="$route.name && !$route.name.includes('landing')"
        grow
        :color="settingsDarkMode ? null : 'primary'"
        fixed
      >
        <v-btn
          :to="localePath(`/regions/${region}/`)"
          nuxt
          exact
          style="background-color: transparent; height: inherit"
        >
          <span>{{ $t('app.tabHome') }}</span>
          <v-icon>mdi-view-grid</v-icon>
        </v-btn>
        <v-btn
          :to="localePath(`/regions/${region}/map`)"
          nuxt
          style="background-color: transparent; height: inherit"
        >
          <span>{{ $t('app.tabMap') }}</span>
          <v-icon>mdi-map</v-icon>
        </v-btn>
        <v-btn
          :to="localePath(`/regions/${region}/table`)"
          nuxt
          style="background-color: transparent; height: inherit"
        >
          <span>{{ $t('app.tabTable') }}</span>
          <v-icon>mdi-table</v-icon>
        </v-btn>
        <v-btn
          :to="localePath('/byod')"
          nuxt
          style="background-color: transparent; height: inherit"
        >
          <span>{{ $t('app.tabByod') }}</span>
          <v-icon>mdi-folder-upload</v-icon>
        </v-btn>
      </v-bottom-navigation>
    </nav>
    <RegionSwitcher
      v-model="regionSwitcher"
      @new-region="listenToUpdates($event)"
    />
  </v-app>
</template>

<script>
export default {
  data: () => ({
    loading: false,
    regionSwitcher: false,
    settingsDrawer: false,
  }),
  computed: {
    region() {
      return (
        this.$route.params.region || this.$store.state.settings.currentRegion
      )
    },
    regionName() {
      return this.$store.state.regions.data[this.region]?.name
    },
    settingsAutoRefresh() {
      return this.$store.state.settings.autoRefresh
    },
    settingsByod() {
      return this.$store.state.settings.activateByod
    },
    settingsLang() {
      return this.$store.state.settings.lang
    },
    settingsDarkMode() {
      const setting = this.$store.state.settings.theme
      if (setting === 'system') {
        return window.matchMedia('(prefers-color-scheme: dark)').matches
      }

      if (setting === 'dark') return true
      return false
    },
    localAgenciesWithRemote() {
      const allAgencies = Object.values(this.$store.state.agencies.data)
      return allAgencies.filter((agency) => {
        if (!agency.meta) return false
        if (agency.meta.remoteUrl && agency.meta.remoteAutoRefresh) return true
        return false
      })
    },
  },
  mounted() {
    this.$store.dispatch('regions/loadAll').then(() => {
      // Check if region exists
      if (!(this.region in this.$store.state.regions.data)) {
        this.$nuxt.error({
          message: "This region dosen't exist.",
          statusCode: 404,
        })
        return false
      }

      // Make an array of all selected agencies
      const activeAgencies = this.$store.state.regions.data[
        this.region
      ].agencies.filter((agency) => {
        return this.$store.state.settings.activeAgencies.includes(agency.slug)
      })

      // For each selected agency, load vehicles
      activeAgencies.forEach((agency) => {
        this.$store.dispatch('vehicles/load', agency)
      })

      // Load alerts for this region
      this.$store.dispatch('alerts/load', this.region)
    })

    if (this.settingsByod) this.loadByodAgencies()
    if (this.settingsDarkMode) {
      // https://csabaszabo.dev/blog/dark-mode-for-website-with-nuxtjs-and-vuetify/
      setTimeout(() => (this.$vuetify.theme.dark = true), 0)
    }
    this.$i18n.setLocale(this.settingsLang)
    // this.$vuetify.lang.current = this.settingsLang
  },
  methods: {
    async loadByodAgencies() {
      // Load byod agencies
      const agencies = await this.$store.dispatch('agencies/loadLocal')
      this.$store.dispatch('vehicles/loadLocal', agencies)

      // Set up auto refresh for local agencies with remote URL
      setInterval(() => {
        this.localAgenciesWithRemote.forEach((agency) => {
          this.$store.dispatch('vehicles/loadRemote', agency)
        })
      }, 1000 * 60)
    },
    listenToUpdates(region) {
      // Remove any existing channels
      Object.keys(this.$echo.connector?.channels).forEach((channel) => {
        this.$echo.leave(channel)
      })

      // Add the new channel
      this.$echo.channel(region.slug).listen('AgencyUpdated', (event) => {
        // Check if autoRefresh is enabled and if agency is selected in settings
        if (!this.settingsAutoRefresh) return false
        if (!this.$store.state.settings.activeAgencies.includes(event.slug)) {
          return false
        }

        // Find agency
        const agency = this.$store.state.agencies.data[event.slug]

        // If dosen't exist, don't proceed
        if (!agency) return false

        this.$store.dispatch('vehicles/load', agency)
      })
    },
  },
}
</script>

<style>
.tt-toolbar--click {
  cursor: pointer;
}
.theme--light.tt-app {
  background: #eef6fc !important;
}
.tt-background-texture {
  background-repeat: repeat;
  background-size: contain;
}

.v-application.theme--light .tt-background-texture {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'%3E%3Cg fill='%23009a8d' fill-opacity='0.2'%3E%3Cpath id='path-1' d='m 15,23.169146 h -30 v -12.5 h 30 m -3.75,27.5 c -2.0750002,0 -3.75,-1.675 -3.75,-3.75 0,-2.075 1.6749998,-3.75 3.75,-3.75 2.075,0 3.75,1.675 3.75,3.75 0,2.075 -1.675,3.75 -3.75,3.75 m -22.5,0 c -2.075,0 -3.75,-1.675 -3.75,-3.75 0,-2.075 1.675,-3.75 3.75,-3.75 2.0750002,0 3.75,1.675 3.75,3.75 0,2.075 -1.6749998,3.75 -3.75,3.75 m -8.75,-2.5 c 0,2.2 0.975,4.175 2.5,5.55 v 4.45 c 0,1.375 1.125,2.5 2.5,2.5 h 2.5 c 1.375,0 2.5,-1.125 2.5,-2.5 v -2.5 h 20 v 2.5 c 0,1.375 1.125,2.5 2.5,2.5 H 15 c 1.375,0 2.5,-1.125 2.5,-2.5 v -4.45 c 1.525,-1.375 2.5,-3.35 2.5,-5.55 v -25 C 20,1.9191464 11.05,0.66914591 0,0.66914591 c -11.05,0 -20,1.25000049 -20,10.00000009 z' /%3E%3Cpath d='m 275,23.169146 h -30 v -12.5 h 30 m -3.75001,27.5 c -2.07499,0 -3.74999,-1.675 -3.74999,-3.75 0,-2.075 1.675,-3.75 3.74999,-3.75 2.07501,0 3.75001,1.675 3.75001,3.75 0,2.075 -1.675,3.75 -3.75001,3.75 m -22.49999,0 c -2.07501,0 -3.75,-1.675 -3.75,-3.75 0,-2.075 1.67499,-3.75 3.75,-3.75 2.075,0 3.75,1.675 3.75,3.75 0,2.075 -1.675,3.75 -3.75,3.75 m -8.75,-2.5 c 0,2.2 0.975,4.175 2.5,5.55 v 4.45 c 0,1.375 1.125,2.5 2.5,2.5 h 2.5 c 1.37499,0 2.5,-1.125 2.5,-2.5 v -2.5 h 20 v 2.5 c 0,1.375 1.125,2.5 2.5,2.5 h 2.5 c 1.375,0 2.5,-1.125 2.5,-2.5 v -4.45 c 1.525,-1.375 2.5,-3.35 2.5,-5.55 v -25 c 0,-8.7499998 -8.95001,-10.00000027 -20,-10.00000027 -11.05,0 -20,1.25000047 -20,10.00000027 z' id='path4577' /%3E%3Cpath id='path4602' d='M 32.04,79.550011 23.44,86 28.815,90.3 H 23.44 c 0,0 -6.45,0 -6.45,6.45 v 21.5 h 10.75 c 0,0 0,-4.3 4.3,-4.3 h 27.95 v -6.45 h -8.6 V 94.6 h 8.6 V 90.3 H 35.265 L 40.64,86 32.04,79.550011 M 21.29,94.6 h 10.75 v 12.9 H 21.29 V 94.6 m 15.05,0 h 10.75 v 12.9 H 36.34 V 94.6 m -15.05,17.2 h 2.15 v 4.3 h -2.15 v -4.3 m 10.75,6.45 v 1.075 c 0,2.967 2.408,5.375 5.375,5.375 2.15,0 4.0635,-1.2685 4.9235,-3.225 h 3.053 c 0.86,1.9565 2.7735,3.225 4.9235,3.225 2.967,0 5.375,-2.408 5.375,-5.375 v -1.075 z' /%3E%3Cpath d='m 201.57,104 a 2,2 0 0 1 2,2 2,2 0 0 1 -2,2 2,2 0 0 1 -2,-2 2,2 0 0 1 2,-2 m -3,-12 h 20 v 10 h -20 V 92 m 17,12 a 2,2 0 0 1 2,2 2,2 0 0 1 -2,2 2,2 0 0 1 -2,-2 2,2 0 0 1 2,-2 m 5,1.76 V 92 c 0,-5.24 -5.36,-6.000008 -12,-6.000008 -6,0 -12,0.740008 -12,6.000008 v 13.76 a 5.24,5.24 0 0 0 5.24,5.24 l -2.24,2.24 V 114 h 3.34 l 3,-3 h 5.66 l 3,3 h 3 v -0.76 L 215.31,111 c 2.9,0 5.26,-2.34 5.26,-5.24 m -0.4,-26.160008 c 5.34,2.08 8.4,6.5 8.4,12.120008 V 118 h -40 V 91.72 c 0,-5.620008 3.06,-10.040008 8.4,-12.120008 3.6,-1.42 7.88,-1.6 11.6,-1.6 3.72,0 8,0.18 11.6,1.6 z' /%3E%3Cpath d='m 75.83,205.12 h 2.625 v 4.935 l 4.27,2.4675 -1.3125,2.275 -5.5825,-3.22 V 205.12 M 58.329999,187.62 H 82.83 c 1.925,0 3.5,1.575 3.5,3.5 v 10.675 c 2.17,2.205 3.5,5.2325 3.5,8.575 0,6.7725 -5.4775,12.25 -12.25,12.25 -3.3425,0 -6.37,-1.33 -8.575,-3.5 H 58.329999 c -1.925,0 -3.5,-1.575 -3.5,-3.5 v -24.5 c 0,-1.925 1.575,-3.5 3.5,-3.5 m 0,22.75 v 5.25 H 66.5025 c -0.752502,-1.5925 -1.172502,-3.3775 -1.172502,-5.25 h -6.999999 m 0,-12.25 H 68.83 v -5.25 H 58.329999 v 5.25 m 24.500001,0 v -5.25 h -10.5 v 5.25 h 10.5 m -24.500001,8.75 h 7.507499 C 66.4325,204.8575 67.535,203.055 69.005,201.62 H 58.329999 v 5.25 M 77.58,201.8825 c -4.69,0 -8.4875,3.7975 -8.4875,8.4875 0,4.69 3.7975,8.4875 8.4875,8.4875 4.69,0 8.4875,-3.7975 8.4875,-8.4875 0,-4.69 -3.7975,-8.4875 -8.4875,-8.4875 z' /%3E%3Cpath d='m 134,123.17 c 3.06667,0 5.55556,-2.48889 5.55556,-5.55556 0,-3.06666 -2.48889,-5.55555 -5.55556,-5.55555 -3.06667,0 -5.55556,2.48889 -5.55556,5.55555 0,3.06667 2.48889,5.55556 5.55556,5.55556 m 0,-21.11111 c 8.57778,0 15.55556,6.95555 15.55556,15.55555 0,11.66667 -15.55556,28.88889 -15.55556,28.88889 0,0 -15.55555,-17.22222 -15.55555,-28.88889 0,-8.6 6.95555,-15.55555 15.55555,-15.55555 m -20,15.55555 c 0,10 11.28889,23.68889 13.33333,26.24445 l -2.22222,2.64444 c 0,0 -15.55555,-17.22222 -15.55555,-28.88889 0,-7.04444 4.68889,-13 11.11111,-14.91111 C 116.57778,106.37 114,111.68111 114,117.61444 Z' /%3E%3Cpath id='path4688' d='m 119.5,16.75 h 21 v 6.93 L 130,20.25 119.5,23.68 M 115.895,39.5 H 116 c 2.8,0 5.25,-1.54 7,-3.5 1.75,1.96 4.2,3.5 7,3.5 2.8,0 5.25,-1.54 7,-3.5 1.75,1.96 4.2,3.5 7,3.5 h 0.0875 l 3.325,-11.7075 c 0.14,-0.4375 0.0875,-0.9275 -0.105,-1.3475 -0.2275,-0.42 -0.595,-0.735 -1.05,-0.875 L 144,24.835 V 16.75 c 0,-1.9425 -1.575,-3.5 -3.5,-3.5 h -5.25 V 8 h -10.5 v 5.25 h -5.25 a 3.5,3.5 0 0 0 -3.5,3.5 v 8.085 l -2.2575,0.735 c -0.455,0.14 -0.8225,0.455 -1.05,0.875 -0.1925,0.42 -0.245,0.91 -0.105,1.3475 M 144,43 c -2.4325,0 -4.865,-0.8225 -7,-2.3275 -4.27,2.9925 -9.73,2.9925 -14,0 C 120.865,42.1775 118.4325,43 116,43 h -3.5 v 3.5 h 3.5 c 2.3975,0 4.795,-0.6125 7,-1.75 4.375,2.275 9.625,2.275 14,0 2.205,1.1375 4.585,1.75 7,1.75 h 3.5 V 43 Z' /%3E%3Cpath id='path4699' d='m 168.71429,232.4 v -24.11429 c 0,-7.97143 -7.45714,-9.71428 -17.14286,-10 L 153.71429,194 H 163 v -4.28572 H 134.42858 V 194 H 148 l -2.14285,4.28571 c -8.97143,0.31429 -17.14286,2.08572 -17.14286,10 V 232.4 c 0,4.14285 3.4,7.6 7.4,8.48571 l -4.54286,4.54286 v 1.42857 h 6.37143 l 5.71429,-5.71429 h 10.77143 l 5.71428,5.71429 h 5.71429 v -1.42857 l -4.28572,-4.28572 h -0.22857 c 4.82857,0 7.37143,-3.91428 7.37143,-8.74285 m -20,4.45714 a 4.2857143,4.2857143 0 0 1 -4.28571,-4.28571 4.2857143,4.2857143 0 0 1 4.28571,-4.28572 4.2857143,4.2857143 0 0 1 4.28571,4.28572 4.2857143,4.2857143 0 0 1 -4.28571,4.28571 M 163,224 H 134.42858 V 209.71428 H 163 Z' /%3E%3Cpath id='path4579' d='m -7.25,170 c -12.5,0 -25,1.5625 -25,12.5 v 29.6875 c 0,6.03125 4.906253,10.9375 10.9375,10.9375 L -26,227.8125 v 1.5625 h 6.968747 l 6.25,-6.25 H -1 l 6.25,6.25 h 6.25 v -1.5625 L 6.8125,223.125 c 6.031247,0 10.9375,-4.90625 10.9375,-10.9375 V 182.5 c 0,-10.9375 -11.1875,-12.5 -25,-12.5 m -14.0625,46.875 c -2.593753,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.093747,-4.6875 4.6875,-4.6875 2.593747,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.093753,4.6875 -4.6875,4.6875 M -10.375,195 H -26 v -12.5 h 15.625 V 195 m 6.25,0 V 182.5 H 11.5 V 195 H -4.125 m 10.9375,21.875 c -2.593747,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.093753,-4.6875 4.6875,-4.6875 2.593747,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.093753,4.6875 -4.6875,4.6875 z' /%3E%3Cpath d='m 252.75,170 c -12.5,0 -25,1.5625 -25,12.5 v 29.6875 c 0,6.03125 4.90625,10.9375 10.9375,10.9375 L 234,227.8125 v 1.5625 h 6.96875 l 6.25,-6.25 H 259 l 6.25,6.25 h 6.25 v -1.5625 l -4.6875,-4.6875 c 6.03125,0 10.9375,-4.90625 10.9375,-10.9375 V 182.5 c 0,-10.9375 -11.1875,-12.5 -25,-12.5 m -14.0625,46.875 c -2.59375,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.09375,-4.6875 4.6875,-4.6875 2.59375,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.09375,4.6875 -4.6875,4.6875 M 249.625,195 H 234 v -12.5 h 15.625 V 195 m 6.25,0 V 182.5 H 271.5 V 195 h -15.625 m 10.9375,21.875 c -2.59375,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.09375,-4.6875 4.6875,-4.6875 2.59375,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.09375,4.6875 -4.6875,4.6875 z' id='path4590' /%3E%3C/g%3E%3C/svg%3E");
}
.v-application.theme--dark .tt-background-texture {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'%3E%3Cg fill='%23006b60' fill-opacity='0.2'%3E%3Cpath id='path-1' d='m 15,23.169146 h -30 v -12.5 h 30 m -3.75,27.5 c -2.0750002,0 -3.75,-1.675 -3.75,-3.75 0,-2.075 1.6749998,-3.75 3.75,-3.75 2.075,0 3.75,1.675 3.75,3.75 0,2.075 -1.675,3.75 -3.75,3.75 m -22.5,0 c -2.075,0 -3.75,-1.675 -3.75,-3.75 0,-2.075 1.675,-3.75 3.75,-3.75 2.0750002,0 3.75,1.675 3.75,3.75 0,2.075 -1.6749998,3.75 -3.75,3.75 m -8.75,-2.5 c 0,2.2 0.975,4.175 2.5,5.55 v 4.45 c 0,1.375 1.125,2.5 2.5,2.5 h 2.5 c 1.375,0 2.5,-1.125 2.5,-2.5 v -2.5 h 20 v 2.5 c 0,1.375 1.125,2.5 2.5,2.5 H 15 c 1.375,0 2.5,-1.125 2.5,-2.5 v -4.45 c 1.525,-1.375 2.5,-3.35 2.5,-5.55 v -25 C 20,1.9191464 11.05,0.66914591 0,0.66914591 c -11.05,0 -20,1.25000049 -20,10.00000009 z' /%3E%3Cpath d='m 275,23.169146 h -30 v -12.5 h 30 m -3.75001,27.5 c -2.07499,0 -3.74999,-1.675 -3.74999,-3.75 0,-2.075 1.675,-3.75 3.74999,-3.75 2.07501,0 3.75001,1.675 3.75001,3.75 0,2.075 -1.675,3.75 -3.75001,3.75 m -22.49999,0 c -2.07501,0 -3.75,-1.675 -3.75,-3.75 0,-2.075 1.67499,-3.75 3.75,-3.75 2.075,0 3.75,1.675 3.75,3.75 0,2.075 -1.675,3.75 -3.75,3.75 m -8.75,-2.5 c 0,2.2 0.975,4.175 2.5,5.55 v 4.45 c 0,1.375 1.125,2.5 2.5,2.5 h 2.5 c 1.37499,0 2.5,-1.125 2.5,-2.5 v -2.5 h 20 v 2.5 c 0,1.375 1.125,2.5 2.5,2.5 h 2.5 c 1.375,0 2.5,-1.125 2.5,-2.5 v -4.45 c 1.525,-1.375 2.5,-3.35 2.5,-5.55 v -25 c 0,-8.7499998 -8.95001,-10.00000027 -20,-10.00000027 -11.05,0 -20,1.25000047 -20,10.00000027 z' id='path4577' /%3E%3Cpath id='path4602' d='M 32.04,79.550011 23.44,86 28.815,90.3 H 23.44 c 0,0 -6.45,0 -6.45,6.45 v 21.5 h 10.75 c 0,0 0,-4.3 4.3,-4.3 h 27.95 v -6.45 h -8.6 V 94.6 h 8.6 V 90.3 H 35.265 L 40.64,86 32.04,79.550011 M 21.29,94.6 h 10.75 v 12.9 H 21.29 V 94.6 m 15.05,0 h 10.75 v 12.9 H 36.34 V 94.6 m -15.05,17.2 h 2.15 v 4.3 h -2.15 v -4.3 m 10.75,6.45 v 1.075 c 0,2.967 2.408,5.375 5.375,5.375 2.15,0 4.0635,-1.2685 4.9235,-3.225 h 3.053 c 0.86,1.9565 2.7735,3.225 4.9235,3.225 2.967,0 5.375,-2.408 5.375,-5.375 v -1.075 z' /%3E%3Cpath d='m 201.57,104 a 2,2 0 0 1 2,2 2,2 0 0 1 -2,2 2,2 0 0 1 -2,-2 2,2 0 0 1 2,-2 m -3,-12 h 20 v 10 h -20 V 92 m 17,12 a 2,2 0 0 1 2,2 2,2 0 0 1 -2,2 2,2 0 0 1 -2,-2 2,2 0 0 1 2,-2 m 5,1.76 V 92 c 0,-5.24 -5.36,-6.000008 -12,-6.000008 -6,0 -12,0.740008 -12,6.000008 v 13.76 a 5.24,5.24 0 0 0 5.24,5.24 l -2.24,2.24 V 114 h 3.34 l 3,-3 h 5.66 l 3,3 h 3 v -0.76 L 215.31,111 c 2.9,0 5.26,-2.34 5.26,-5.24 m -0.4,-26.160008 c 5.34,2.08 8.4,6.5 8.4,12.120008 V 118 h -40 V 91.72 c 0,-5.620008 3.06,-10.040008 8.4,-12.120008 3.6,-1.42 7.88,-1.6 11.6,-1.6 3.72,0 8,0.18 11.6,1.6 z' /%3E%3Cpath d='m 75.83,205.12 h 2.625 v 4.935 l 4.27,2.4675 -1.3125,2.275 -5.5825,-3.22 V 205.12 M 58.329999,187.62 H 82.83 c 1.925,0 3.5,1.575 3.5,3.5 v 10.675 c 2.17,2.205 3.5,5.2325 3.5,8.575 0,6.7725 -5.4775,12.25 -12.25,12.25 -3.3425,0 -6.37,-1.33 -8.575,-3.5 H 58.329999 c -1.925,0 -3.5,-1.575 -3.5,-3.5 v -24.5 c 0,-1.925 1.575,-3.5 3.5,-3.5 m 0,22.75 v 5.25 H 66.5025 c -0.752502,-1.5925 -1.172502,-3.3775 -1.172502,-5.25 h -6.999999 m 0,-12.25 H 68.83 v -5.25 H 58.329999 v 5.25 m 24.500001,0 v -5.25 h -10.5 v 5.25 h 10.5 m -24.500001,8.75 h 7.507499 C 66.4325,204.8575 67.535,203.055 69.005,201.62 H 58.329999 v 5.25 M 77.58,201.8825 c -4.69,0 -8.4875,3.7975 -8.4875,8.4875 0,4.69 3.7975,8.4875 8.4875,8.4875 4.69,0 8.4875,-3.7975 8.4875,-8.4875 0,-4.69 -3.7975,-8.4875 -8.4875,-8.4875 z' /%3E%3Cpath d='m 134,123.17 c 3.06667,0 5.55556,-2.48889 5.55556,-5.55556 0,-3.06666 -2.48889,-5.55555 -5.55556,-5.55555 -3.06667,0 -5.55556,2.48889 -5.55556,5.55555 0,3.06667 2.48889,5.55556 5.55556,5.55556 m 0,-21.11111 c 8.57778,0 15.55556,6.95555 15.55556,15.55555 0,11.66667 -15.55556,28.88889 -15.55556,28.88889 0,0 -15.55555,-17.22222 -15.55555,-28.88889 0,-8.6 6.95555,-15.55555 15.55555,-15.55555 m -20,15.55555 c 0,10 11.28889,23.68889 13.33333,26.24445 l -2.22222,2.64444 c 0,0 -15.55555,-17.22222 -15.55555,-28.88889 0,-7.04444 4.68889,-13 11.11111,-14.91111 C 116.57778,106.37 114,111.68111 114,117.61444 Z' /%3E%3Cpath id='path4688' d='m 119.5,16.75 h 21 v 6.93 L 130,20.25 119.5,23.68 M 115.895,39.5 H 116 c 2.8,0 5.25,-1.54 7,-3.5 1.75,1.96 4.2,3.5 7,3.5 2.8,0 5.25,-1.54 7,-3.5 1.75,1.96 4.2,3.5 7,3.5 h 0.0875 l 3.325,-11.7075 c 0.14,-0.4375 0.0875,-0.9275 -0.105,-1.3475 -0.2275,-0.42 -0.595,-0.735 -1.05,-0.875 L 144,24.835 V 16.75 c 0,-1.9425 -1.575,-3.5 -3.5,-3.5 h -5.25 V 8 h -10.5 v 5.25 h -5.25 a 3.5,3.5 0 0 0 -3.5,3.5 v 8.085 l -2.2575,0.735 c -0.455,0.14 -0.8225,0.455 -1.05,0.875 -0.1925,0.42 -0.245,0.91 -0.105,1.3475 M 144,43 c -2.4325,0 -4.865,-0.8225 -7,-2.3275 -4.27,2.9925 -9.73,2.9925 -14,0 C 120.865,42.1775 118.4325,43 116,43 h -3.5 v 3.5 h 3.5 c 2.3975,0 4.795,-0.6125 7,-1.75 4.375,2.275 9.625,2.275 14,0 2.205,1.1375 4.585,1.75 7,1.75 h 3.5 V 43 Z' /%3E%3Cpath id='path4699' d='m 168.71429,232.4 v -24.11429 c 0,-7.97143 -7.45714,-9.71428 -17.14286,-10 L 153.71429,194 H 163 v -4.28572 H 134.42858 V 194 H 148 l -2.14285,4.28571 c -8.97143,0.31429 -17.14286,2.08572 -17.14286,10 V 232.4 c 0,4.14285 3.4,7.6 7.4,8.48571 l -4.54286,4.54286 v 1.42857 h 6.37143 l 5.71429,-5.71429 h 10.77143 l 5.71428,5.71429 h 5.71429 v -1.42857 l -4.28572,-4.28572 h -0.22857 c 4.82857,0 7.37143,-3.91428 7.37143,-8.74285 m -20,4.45714 a 4.2857143,4.2857143 0 0 1 -4.28571,-4.28571 4.2857143,4.2857143 0 0 1 4.28571,-4.28572 4.2857143,4.2857143 0 0 1 4.28571,4.28572 4.2857143,4.2857143 0 0 1 -4.28571,4.28571 M 163,224 H 134.42858 V 209.71428 H 163 Z' /%3E%3Cpath id='path4579' d='m -7.25,170 c -12.5,0 -25,1.5625 -25,12.5 v 29.6875 c 0,6.03125 4.906253,10.9375 10.9375,10.9375 L -26,227.8125 v 1.5625 h 6.968747 l 6.25,-6.25 H -1 l 6.25,6.25 h 6.25 v -1.5625 L 6.8125,223.125 c 6.031247,0 10.9375,-4.90625 10.9375,-10.9375 V 182.5 c 0,-10.9375 -11.1875,-12.5 -25,-12.5 m -14.0625,46.875 c -2.593753,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.093747,-4.6875 4.6875,-4.6875 2.593747,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.093753,4.6875 -4.6875,4.6875 M -10.375,195 H -26 v -12.5 h 15.625 V 195 m 6.25,0 V 182.5 H 11.5 V 195 H -4.125 m 10.9375,21.875 c -2.593747,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.093753,-4.6875 4.6875,-4.6875 2.593747,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.093753,4.6875 -4.6875,4.6875 z' /%3E%3Cpath d='m 252.75,170 c -12.5,0 -25,1.5625 -25,12.5 v 29.6875 c 0,6.03125 4.90625,10.9375 10.9375,10.9375 L 234,227.8125 v 1.5625 h 6.96875 l 6.25,-6.25 H 259 l 6.25,6.25 h 6.25 v -1.5625 l -4.6875,-4.6875 c 6.03125,0 10.9375,-4.90625 10.9375,-10.9375 V 182.5 c 0,-10.9375 -11.1875,-12.5 -25,-12.5 m -14.0625,46.875 c -2.59375,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.09375,-4.6875 4.6875,-4.6875 2.59375,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.09375,4.6875 -4.6875,4.6875 M 249.625,195 H 234 v -12.5 h 15.625 V 195 m 6.25,0 V 182.5 H 271.5 V 195 h -15.625 m 10.9375,21.875 c -2.59375,0 -4.6875,-2.09375 -4.6875,-4.6875 0,-2.59375 2.09375,-4.6875 4.6875,-4.6875 2.59375,0 4.6875,2.09375 4.6875,4.6875 0,2.59375 -2.09375,4.6875 -4.6875,4.6875 z' id='path4590' /%3E%3C/g%3E%3C/svg%3E");
}
</style>
